##  FastCGI Module
## ---------------
##
## https://wiki.lighttpd.net/mod_fastcgi
##
server.modules += ( "mod_fastcgi" )

## PHP
##
## If you want to use PATH_INFO and PHP_SELF in you PHP scripts you have to
## configure php and lighttpd. The php.ini needs the option:
##
## cgi.fix_pathinfo = 1 
##
## and the option "broken-scriptfilename" in your fastcgi.server config.
##
## Why this? The "cgi.fix_pathinfo = 0" would give you a working PATH_INFO but
## no PHP_SELF. If you enable it, it turns around. To fix the
## PATH_INFO `--enable-discard-path` needs a SCRIPT_FILENAME which is against the
## CGI spec, a broken-scriptfilename. With "cgi.fix_pathinfo = 1" in php.ini
## and "broken-scriptfilename => "enable"" you get both.
##
fastcgi.server = ( ".php" =>
    ((
        "socket" => "/tmp/www.sock",
        "broken-scriptfilename" => "enable",
        "bin-path" => "/usr/local/sbin/php-fpm",
        "max-procs" => 1,
        "kill-signal" => 3
    ))
)
